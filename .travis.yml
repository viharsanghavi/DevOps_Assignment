language: android
sudo: false
android:
  components:
    - build-tools-23.0.1
    - android-23
    - extra
    - compileSdkVersion-23

before_install:
  - chmod +x gradlew

after_success:
  - sh set_tags.sh

before_script:
  - echo no | android create avd --force -n test -t android-21 --abi armeabi-v7a
  - emulator -avd test -no-skin -no-audio -no-window &
  - android-wait-for-emulator
  - adb shell input keyevent 82 &

before_deploy: 
 - cp $TRAVIS_BUILD_DIR/example_keystore.jks $HOME 
 - cd app/build/outputs/apk/ 
 - jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore $HOME/example_keystore.jks -storepass $storepass -keypass $keypass app-release-unsigned.apk ExampleKeystoreAlias 
 
 
 deploy: 
   provider -releases 
   file -TravisExample.apk 
   skip_cleanup -true 
 
   on: 
     repo -viharsanghavi/DevOps_Assignment
     tags -true 
     jdk -oraclejdk8 
   api_key: 
     secure -"60031ea2174f9491b1c68c64c3cef02bf1b34a4b"






